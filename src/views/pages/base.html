<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{pageTitle}} - Quantum Eye</title>

    <!-- Import paths -->
    <script type="module">
        import paths from '/config/paths.js';
        window.paths = paths; // Make paths available globally
    </script>
    
    <!-- Initialize application state -->
    <script type="module">
        const init = paths.resolve('src/services/init.js');
        document.write(`<script type="module" src="${init}"><\/script>`);
    </script>
    
    <!-- Load common head content and components -->
    <script type="module">
        const commonHead = paths.resolve('src/utils/loadCommonHead.js');
        import { loadCommonHead, loadCommonComponents } from commonHead;
        loadCommonHead();
        loadCommonComponents();
    </script>

    <!-- Additional styles -->
    <script>
        // Add page-specific styles
        const additionalStyles = `{{additionalStyles}}`;
        if (additionalStyles) {
            const style = document.createElement('style');
            style.textContent = additionalStyles;
            document.head.appendChild(style);
        }
    </script>
</head>
<body class="page {{pageClass}}">
    <div class="page__container">
        <div class="content-area l-container">
            {{content}}
        </div>
    </div>

    <script type="module">
        // Initialize any page-specific scripts
        if (typeof initPage === 'function') {
            document.addEventListener('DOMContentLoaded', initPage);
        }
    </script>
    {{additionalScripts}}
</body>
</html>
