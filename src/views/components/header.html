<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{pageTitle}} - Quantum Eye</title>

<!-- Import paths -->
<script type="module">
    import paths from '/config/paths.js';
    window.paths = paths; // Make paths available globally
</script>

<!-- Theme initialization - Must be first -->
<script type="module">
    import ThemeManager from '/src/services/state/thememanager.js';
    // Apply theme immediately before any content loads
    ThemeManager.initialize();
</script>

<!-- Core styles -->
<script>
    const styleLinks = [
        paths.resolve('src/views/styles/core/variables.css'),
        paths.resolve('src/views/styles/themes/light.css'),
        paths.resolve('src/views/styles/themes/dark.css'),
        paths.resolve('src/views/styles/core/base.css'),
        paths.resolve('src/views/styles/layouts/container.css'),
        paths.resolve('src/views/styles/components/navigation.css'),
        paths.resolve('src/views/styles/components/button.css'),
        paths.resolve('src/views/styles/components/message.css')
    ];
    
    styleLinks.forEach(href => {
        document.write(`<link rel="stylesheet" href="${href}">`);
    });
</script>

<style>
    /* Ensure smooth theme transitions */
    :root {
        transition: background-color var(--transition-speed) ease,
                    color var(--transition-speed) ease;
    }

    /* Ensure theme colors are inherited */
    html, body {
        background-color: var(--color-surface-primary);
        color: var(--color-text-primary);
        min-height: 100vh;
    }
</style>

<script>
    // Add page-specific styles
    const additionalStyles = `{{additionalStyles}}`;
    if (additionalStyles) {
        const style = document.createElement('style');
        style.textContent = additionalStyles;
        document.head.appendChild(style);
    }
</script>
